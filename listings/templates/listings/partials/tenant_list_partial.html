<div class="d-flex align-items-center justify-content-between mb-3">
  <h3 class="mb-0">المستأجرون</h3>

  <a class="btn btn-primary" hx-get="{% url 'tenant_create' %}" hx-target="#appModalBody" role="button">
    إضافة مستأجر
  </a>
</div>

<div class="card shadow-sm">
  <div class="table-responsive">
    <table class="table table-hover mb-0 align-middle">
      <thead class="table-light">
        <tr>
          <th style="width:70px">الصورة</th>
          <th>الاسم</th>
          <th>الهاتف</th>
          <th>رقم الهوية</th>
          <th>العنوان</th>
          <th>صورة الهوية</th>
          <th class="text-end">إجراءات</th>
        </tr>
      </thead>
      <tbody>
        {% for t in tenants %}
        <tr>
          <td style="width:70px">
            {% if t.photo %}
              <img src="{{ t.photo.url }}"
                   alt="صورة"
                   class="rounded-circle border shadow-sm object-fit-cover"
                   style="width:44px;height:44px;">
            {% else %}
              <div class="rounded-circle bg-primary-subtle border d-flex align-items-center justify-content-center"
                   style="width:44px;height:44px;font-weight:800;">
                {{ t.full_name|slice:":1" }}
              </div>
            {% endif %}
          </td>
          <td>{{ t.full_name }}</td>
          <td>{{ t.phone }}</td>
          <td>{{ t.id_number }}</td>
          <td>{{ t.address|default:"—" }}</td>
          <td>
            {% if t.id_image %}
              <img src="{{ t.id_image.url }}"
                   data-full="{{ t.id_image.url }}"
                   class="rounded border previewable-image"
                   style="height:40px; cursor:pointer;">
            {% else %}
              <span class="text-muted">—</span>
            {% endif %}
          </td>
          <td class="text-end">
            <div class="btn-group btn-group-sm">
              <a class="btn btn-outline-primary" hx-get="{% url 'tenant_edit' t.id %}" hx-target="#appModalBody"
                role="button">
                تعديل
              </a>

              <a class="btn btn-outline-danger" hx-get="{% url 'tenant_delete' t.id %}" hx-target="#appModalBody"
                role="button">
                حذف
              </a>
            </div>
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="7" class="text-center text-muted py-4">
            لا يوجد مستأجرون حالياً.
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>